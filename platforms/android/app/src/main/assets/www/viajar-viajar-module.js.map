{"version":3,"sources":["webpack:///./node_modules/agm-direction/fesm5/agm-direction.js","webpack:///./src/app/services/geo.service.ts","webpack:///./src/app/viajar/viajar.module.ts","webpack:///./src/app/viajar/viajar.page.html","webpack:///./src/app/viajar/viajar.page.scss","webpack:///./src/app/viajar/viajar.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiF;AAChC;;AAEjD;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,0DAAY;AACxC;AACA,8BAA8B,0DAAY;AAC1C;AACA,kCAAkC,0DAAY;AAC9C;AACA,0BAA0B,0DAAY;AACtC;AACA,8BAA8B,0DAAY;AAC1C,mCAAmC,0DAAY;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,OAAO,8DAAoB;AACpC,MAAM;AACN;AACA,kBAAkB,OAAO,mDAAK,EAAE;AAChC,uBAAuB,OAAO,mDAAK,EA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","file":"viajar-viajar-module.js","sourcesContent":["import { Directive, Input, Output, EventEmitter, NgModule } from '@angular/core';\nimport { GoogleMapsAPIWrapper } from '@agm/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar AgmDirection = /** @class */ (function () {\n    function AgmDirection(gmapsApi) {\n        this.gmapsApi = gmapsApi;\n        // Options\n        this.travelMode = 'DRIVING';\n        this.transitOptions = undefined;\n        this.drivingOptions = undefined;\n        this.waypoints = [];\n        this.optimizeWaypoints = true;\n        this.provideRouteAlternatives = false;\n        this.avoidHighways = false;\n        this.avoidTolls = false;\n        // Remove or draw direction\n        this.visible = true;\n        // Direction change event handler\n        this.onChange = new EventEmitter();\n        // Direction response for the new request\n        this.onResponse = new EventEmitter();\n        // Send a custom infowindow\n        this.sendInfoWindow = new EventEmitter();\n        // Status of Directions Query (google.maps.DirectionsStatus.OVER_QUERY_LIMIT)\n        this.status = new EventEmitter();\n        // Marker drag event handler\n        this.originDrag = new EventEmitter();\n        this.destinationDrag = new EventEmitter();\n        this.directionsService = undefined;\n        this.directionsDisplay = undefined;\n        this.waypointsMarker = [];\n        // Use for visible flag\n        this.isFirstChange = true;\n    }\n    /**\n     * @return {?}\n     */\n    AgmDirection.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        if (this.visible === true) {\n            this.directionDraw();\n        }\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    AgmDirection.prototype.ngOnChanges = /**\n     * @param {?} obj\n     * @return {?}\n     */\n    function (obj) {\n        /**\n         * When visible is false then remove the direction layer\n         */\n        if (!this.visible) {\n            try {\n                this.removeMarkers();\n                this.removeDirections();\n            }\n            catch (e) { }\n        }\n        else {\n            if (this.isFirstChange) {\n                /**\n                 * When visible is false at the first time\n                 */\n                if (typeof this.directionsDisplay === 'undefined') {\n                    this.directionDraw();\n                }\n                this.isFirstChange = false;\n                return;\n            }\n            /**\n             * When renderOptions are not first change then reset the display\n             */\n            if (typeof obj.renderOptions !== 'undefined') {\n                if (obj.renderOptions.firstChange === false) {\n                    this.removeMarkers();\n                    this.removeDirections();\n                }\n            }\n            this.directionDraw();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    AgmDirection.prototype.ngOnDestroy = /**\n     * @return {?}\n     */\n    function () {\n        this.destroyMarkers();\n        this.removeDirections();\n    };\n    /**\n     * This event is fired when the user creating or updating this direction\n     */\n    /**\n     * This event is fired when the user creating or updating this direction\n     * @return {?}\n     */\n    AgmDirection.prototype.directionDraw = /**\n     * This event is fired when the user creating or updating this direction\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        this.gmapsApi.getNativeMap().then(function (map) {\n            if (typeof _this.directionsDisplay === 'undefined') {\n                _this.directionsDisplay = new google.maps.DirectionsRenderer(_this.renderOptions);\n                _this.directionsDisplay.setMap(map);\n                _this.directionsDisplay.addListener('directions_changed', function () {\n                    _this.onChange.emit(_this.directionsDisplay.getDirections());\n                });\n            }\n            if (typeof _this.directionsService === 'undefined') {\n                _this.directionsService = new google.maps.DirectionsService;\n            }\n            if (typeof _this.panel === 'undefined') {\n                _this.directionsDisplay.setPanel(null);\n            }\n            else {\n                _this.directionsDisplay.setPanel(_this.panel);\n            }\n            // Render exist direction\n            if (typeof _this.renderRoute === 'object' && _this.renderRoute !== null) {\n                _this.directionsDisplay.setDirections(_this.renderRoute);\n                _this.renderRoute = null; // or set undefined, ''\n            }\n            else {\n                // Request new direction\n                _this.directionsService.route({\n                    origin: _this.origin,\n                    destination: _this.destination,\n                    travelMode: _this.travelMode,\n                    transitOptions: _this.transitOptions,\n                    drivingOptions: _this.drivingOptions,\n                    waypoints: _this.waypoints,\n                    optimizeWaypoints: _this.optimizeWaypoints,\n                    provideRouteAlternatives: _this.provideRouteAlternatives,\n                    avoidHighways: _this.avoidHighways,\n                    avoidTolls: _this.avoidTolls,\n                }, function (response, status) {\n                    _this.onResponse.emit(response);\n                    // Emit Query Status\n                    _this.status.emit(status);\n                    /**\n                     * DirectionsStatus\n                     * https://developers.google.com/maps/documentation/javascript/directions#DirectionsStatus\n                     */\n                    switch (status) {\n                        case 'OK':\n                            _this.directionsDisplay.setDirections(response);\n                            /**\n                             * Emit The DirectionsResult Object\n                             * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\n                             */\n                            // Custom Markers\n                            if (typeof _this.markerOptions !== 'undefined') {\n                                _this.destroyMarkers();\n                                // Set custom markers\n                                /** @type {?} */\n                                var _route_1 = response.routes[0].legs[0];\n                                try {\n                                    // Origin Marker\n                                    if (typeof _this.markerOptions.origin !== 'undefined') {\n                                        _this.markerOptions.origin.map = map;\n                                        _this.markerOptions.origin.position = _route_1.start_location;\n                                        _this.originMarker = _this.setMarker(map, _this.originMarker, _this.markerOptions.origin, _route_1.start_address);\n                                        if (_this.markerOptions.origin.draggable) {\n                                            _this.originMarker.addListener('dragend', function () {\n                                                _this.origin = _this.originMarker.position;\n                                                _this.directionDraw();\n                                                _this.originDrag.emit(_this.origin);\n                                            });\n                                        }\n                                    }\n                                    // Destination Marker\n                                    if (typeof _this.markerOptions.destination !== 'undefined') {\n                                        _this.markerOptions.destination.map = map;\n                                        _this.markerOptions.destination.position = _route_1.end_location;\n                                        _this.destinationMarker = _this.setMarker(map, _this.destinationMarker, _this.markerOptions.destination, _route_1.end_address);\n                                        if (_this.markerOptions.destination.draggable) {\n                                            _this.destinationMarker.addListener('dragend', function () {\n                                                _this.destination = _this.destinationMarker.position;\n                                                _this.directionDraw();\n                                                _this.destinationDrag.emit(_this.destination);\n                                            });\n                                        }\n                                    }\n                                    // Waypoints Marker\n                                    if (typeof _this.markerOptions.waypoints !== 'undefined') {\n                                        _this.waypoints.forEach(function (waypoint, index) {\n                                            // If waypoints are not array then set all the same\n                                            if (!Array.isArray(_this.markerOptions.waypoints)) {\n                                                _this.markerOptions.waypoints.map = map;\n                                                _this.markerOptions.waypoints.position = _route_1.via_waypoints[index];\n                                                _this.waypointsMarker.push(_this.setMarker(map, waypoint, _this.markerOptions.waypoints, _route_1.via_waypoints[index]));\n                                            }\n                                            else {\n                                                _this.markerOptions.waypoints[index].map = map;\n                                                _this.markerOptions.waypoints[index].position = _route_1.via_waypoints[index];\n                                                _this.waypointsMarker.push(_this.setMarker(map, waypoint, _this.markerOptions.waypoints[index], _route_1.via_waypoints[index]));\n                                            }\n                                        }); // End forEach\n                                    }\n                                }\n                                catch (err) {\n                                    console.error('MarkerOptions error.', err);\n                                }\n                            }\n                            break;\n                        default:\n                            // console.warn(status);\n                            break;\n                    } // End switch\n                });\n            }\n        });\n    };\n    /**\n     * Custom Origin and Destination Icon\n     * @param map map\n     * @param marker marker\n     * @param markerOpts properties\n     * @param content marker's infowindow content\n     * @returns new marker\n     * @memberof AgmDirection\n     */\n    /**\n     * Custom Origin and Destination Icon\n     * \\@memberof AgmDirection\n     * @param {?} map map\n     * @param {?} marker marker\n     * @param {?} markerOpts properties\n     * @param {?} content marker's infowindow content\n     * @return {?} new marker\n     */\n    AgmDirection.prototype.setMarker = /**\n     * Custom Origin and Destination Icon\n     * \\@memberof AgmDirection\n     * @param {?} map map\n     * @param {?} marker marker\n     * @param {?} markerOpts properties\n     * @param {?} content marker's infowindow content\n     * @return {?} new marker\n     */\n    function (map, marker, markerOpts, content) {\n        var _this = this;\n        if (typeof this.infoWindow === 'undefined') {\n            this.infoWindow = new google.maps.InfoWindow({});\n            this.sendInfoWindow.emit(this.infoWindow);\n        }\n        marker = new google.maps.Marker(markerOpts);\n        marker.addListener('click', function () {\n            /** @type {?} */\n            var infowindoContent = typeof markerOpts.infoWindow === 'undefined' ? content : markerOpts.infoWindow;\n            _this.infoWindow.setContent(infowindoContent);\n            _this.infoWindow.open(map, marker);\n        });\n        return marker;\n    };\n    /**\n     * This event is fired when remove markers\n     */\n    /**\n     * This event is fired when remove markers\n     * @return {?}\n     */\n    AgmDirection.prototype.removeMarkers = /**\n     * This event is fired when remove markers\n     * @return {?}\n     */\n    function () {\n        if (typeof this.originMarker !== 'undefined') {\n            this.originMarker.setMap(null);\n        }\n        if (typeof this.destinationMarker !== 'undefined') {\n            this.destinationMarker.setMap(null);\n        }\n        this.waypointsMarker.forEach(function (w) {\n            if (typeof w !== 'undefined') {\n                w.setMap(null);\n            }\n        });\n    };\n    /**\n     * This event is fired when remove directions\n     */\n    /**\n     * This event is fired when remove directions\n     * @return {?}\n     */\n    AgmDirection.prototype.removeDirections = /**\n     * This event is fired when remove directions\n     * @return {?}\n     */\n    function () {\n        this.directionsDisplay.setPanel(null);\n        this.directionsDisplay.setMap(null);\n        this.directionsDisplay = undefined;\n    };\n    /**\n     * This event is fired when destroy markers\n     */\n    /**\n     * This event is fired when destroy markers\n     * @return {?}\n     */\n    AgmDirection.prototype.destroyMarkers = /**\n     * This event is fired when destroy markers\n     * @return {?}\n     */\n    function () {\n        // Remove origin markers\n        try {\n            if (typeof this.originMarker !== 'undefined') {\n                google.maps.event.clearListeners(this.originMarker, 'click');\n                if (this.markerOptions.origin.draggable) {\n                    google.maps.event.clearListeners(this.originMarker, 'dragend');\n                }\n            }\n            if (typeof this.destinationMarker !== 'undefined') {\n                google.maps.event.clearListeners(this.destinationMarker, 'click');\n                if (this.markerOptions.origin.draggable) {\n                    google.maps.event.clearListeners(this.destinationMarker, 'dragend');\n                }\n            }\n            this.waypointsMarker.forEach(function (w) {\n                if (typeof w !== 'undefined') {\n                    google.maps.event.clearListeners(w, 'click');\n                }\n            });\n            this.removeMarkers();\n        }\n        catch (err) {\n            console.error('Can not reset custom marker.', err);\n        }\n    };\n    AgmDirection.decorators = [\n        { type: Directive, args: [{\n                    selector: 'agm-direction',\n                },] }\n    ];\n    /** @nocollapse */\n    AgmDirection.ctorParameters = function () { return [\n        { type: GoogleMapsAPIWrapper }\n    ]; };\n    AgmDirection.propDecorators = {\n        origin: [{ type: Input }],\n        destination: [{ type: Input }],\n        travelMode: [{ type: Input }],\n        transitOptions: [{ type: Input }],\n        drivingOptions: [{ type: Input }],\n        waypoints: [{ type: Input }],\n        optimizeWaypoints: [{ type: Input }],\n        provideRouteAlternatives: [{ type: Input }],\n        avoidHighways: [{ type: Input }],\n        avoidTolls: [{ type: Input }],\n        renderOptions: [{ type: Input }],\n        panel: [{ type: Input }],\n        markerOptions: [{ type: Input }],\n        infoWindow: [{ type: Input }],\n        visible: [{ type: Input }],\n        renderRoute: [{ type: Input }],\n        onChange: [{ type: Output }],\n        onResponse: [{ type: Output }],\n        sendInfoWindow: [{ type: Output }],\n        status: [{ type: Output }],\n        originDrag: [{ type: Output }],\n        destinationDrag: [{ type: Output }]\n    };\n    return AgmDirection;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar AgmDirectionModule = /** @class */ (function () {\n    function AgmDirectionModule() {\n    }\n    /**\n     * @return {?}\n     */\n    AgmDirectionModule.forRoot = /**\n     * @return {?}\n     */\n    function () {\n        return {\n            ngModule: AgmDirectionModule,\n        };\n    };\n    AgmDirectionModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [],\n                    declarations: [\n                        AgmDirection,\n                    ],\n                    exports: [\n                        AgmDirection,\n                    ]\n                },] }\n    ];\n    return AgmDirectionModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\nexport { AgmDirectionModule, AgmDirection as ɵa };\n//# sourceMappingURL=agm-direction.js.map\n","import { Injectable } from '@angular/core';\r\n\r\n// Plugins\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GeoService {\r\n\r\n  constructor(\r\n    private geolocation: Geolocation\r\n  ) { }\r\n\r\n  ubicacionGPS() {\r\n    // return this.geolocation.getCurrentPosition();\r\n    return this.geolocation.watchPosition();\r\n  }\r\n\r\n  gps() {\r\n    return this.geolocation.getCurrentPosition();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ViajarPage } from './viajar.page';\r\n\r\n// Maps\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport { AgmDirectionModule } from 'agm-direction';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ViajarPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    AgmCoreModule.forRoot({\r\n      apiKey: 'AIzaSyApgyf9zpctTzuckqSRRYiA9wgrVKeWGFY'\r\n    }),\r\n    AgmDirectionModule\r\n  ],\r\n  declarations: [ViajarPage]\r\n})\r\nexport class ViajarPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n    <ion-toolbar color=\\\"\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title class=\\\"titulo-comercio-viaje\\\" *ngIf=\\\"dato.lat > 0\\\">Viajar a {{comercio}}</ion-title>\\r\\n        <ion-title class=\\\"titulo-comercio-viaje\\\" *ngIf=\\\"dato.lat === 0\\\">Agregar GPS de {{comercio}}</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content color=\\\"\\\" *ngIf=\\\"latEscucha > 0\\\">\\r\\n\\r\\n    <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" edge slot=\\\"fixed\\\">\\r\\n        <ion-fab-button color=\\\"danger\\\">\\r\\n            <ion-icon name=\\\"settings\\\"></ion-icon>\\r\\n        </ion-fab-button>\\r\\n        <ion-fab-list side=\\\"start\\\">\\r\\n            <ion-fab-button (click)=\\\"info()\\\">\\r\\n                <ion-icon name=\\\"help\\\"></ion-icon>\\r\\n            </ion-fab-button>\\r\\n        </ion-fab-list>\\r\\n    </ion-fab>\\r\\n\\r\\n    <agm-map [latitude]=\\\"lat\\\" [longitude]=\\\"lng\\\" [zoom]=\\\"zoom\\\" [minZoom]=\\\"zoom\\\" (mapClick)=\\\"agregarMarker($event)\\\" *ngIf=\\\"dato.lat > 0\\\">\\r\\n        <agm-direction [origin]=\\\"origin\\\" [destination]=\\\"destiny\\\" [provideRouteAlternatives]=\\\"alternativa\\\" [panel]=\\\"setPanel()\\\" (onResponse)=\\\"getStatus($event)\\\" [renderOptions]=\\\"renderOptions\\\" [markerOptions]=\\\"markerOptions\\\"></agm-direction>\\r\\n        <agm-marker *ngIf=\\\"latMarker > 0\\\" [latitude]=\\\"latMarker\\\" [longitude]=\\\"lngMarker\\\"></agm-marker>\\r\\n    </agm-map>\\r\\n\\r\\n    <agm-map [latitude]=\\\"lat\\\" [longitude]=\\\"lng\\\" [zoom]=\\\"19\\\" [minZoom]=\\\"19\\\" (mapClick)=\\\"agregarMarker($event)\\\" *ngIf=\\\"dato.lat === 0\\\">\\r\\n        <agm-marker *ngIf=\\\"latMarker > 0\\\" [latitude]=\\\"latMarker\\\" [longitude]=\\\"lngMarker\\\"></agm-marker>\\r\\n    </agm-map>\\r\\n\\r\\n    <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" (click)=\\\"iniciar()\\\" *ngIf=\\\"dato.lat > 0\\\">\\r\\n        <ion-icon name=\\\"play\\\" color=\\\"\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n\\r\\n    <ion-card color=\\\"light\\\" id=\\\"myPanel\\\" style=\\\"height: 100%;\\\" *ngIf=\\\"dato.lat > 0\\\"></ion-card>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-content text-center color=\\\"\\\" *ngIf=\\\"latEscucha === 0\\\">\\r\\n\\r\\n    <h1 class=\\\"sin-datos-viaje\\\">Sin datos de viaje o Cargando Información</h1>\\r\\n\\r\\n</ion-content>\"","module.exports = \"agm-map {\\n  height: 50%; }\\n\\n.titulo-comercio-viaje {\\n  font-size: 13px; }\\n\\n.sin-datos-viaje {\\n  position: relative;\\n  top: 40%;\\n  bottom: 50%; }\\n\\n.sin-p {\\n  margin-bottom: 0;\\n  color: black; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlhamFyL0M6XFxVc2Vyc1xcRGVzYXJyb2xsb1xcRG9jdW1lbnRzXFxBUFBTXFx2aXNvci9zcmNcXGFwcFxcdmlhamFyXFx2aWFqYXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBVyxFQUFBOztBQUdmO0VBQ0ksZUFBZSxFQUFBOztBQUduQjtFQUNJLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsV0FBVyxFQUFBOztBQUdmO0VBQ0ksZ0JBQWdCO0VBQ2hCLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL3ZpYWphci92aWFqYXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYWdtLW1hcCB7XHJcbiAgICBoZWlnaHQ6IDUwJTtcclxufVxyXG5cclxuLnRpdHVsby1jb21lcmNpby12aWFqZSB7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbn1cclxuXHJcbi5zaW4tZGF0b3MtdmlhamUge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdG9wOiA0MCU7XHJcbiAgICBib3R0b206IDUwJTtcclxufVxyXG5cclxuLnNpbi1wIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbn0iXX0= */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n// Plugins\r\nimport { TextToSpeech } from '@ionic-native/text-to-speech/ngx';\r\n\r\n// Servicios\r\nimport { GeoService } from '../services/geo.service';\r\nimport { UsuarioService } from '../services/usuario.service';\r\nimport { NetworkService, ConnectionStatus } from '../services/network.service';\r\nimport { Subscription, Observable, Subscriber } from 'rxjs';\r\n\r\nconst API_STORAGE_KEY = 'localData';\r\nconst API_URL_PHP = 'http://177.244.55.122/api';\r\nconst API_URL4111 = 'http://177.244.55.122:4111';\r\n\r\n@Component({\r\n  selector: 'app-viajar',\r\n  templateUrl: './viajar.page.html',\r\n  styleUrls: ['./viajar.page.scss'],\r\n})\r\nexport class ViajarPage implements OnInit, OnDestroy {\r\n\r\n  dato: any;\r\n\r\n  // Marcadores\r\n  markerDraggable = true;\r\n\r\n  // Observable del Viaje\r\n  observar: Subscription;\r\n\r\n  // Datos del Viaje\r\n  comercio: string;\r\n  lat = 0;\r\n  lng = 0;\r\n  latMarker = 0;\r\n  lngMarker = 0;\r\n  latEscucha = 0;\r\n  lngEscucha = 0;\r\n  asesor: number;\r\n  img: string;\r\n  clienteid: number;\r\n  numero: number;\r\n  nombre: string;\r\n  domicilio: string;\r\n  limite: number;\r\n  saldo: number;\r\n  disponible: number;\r\n  ultima: string;\r\n  email: string;\r\n\r\n  // Datos de Direction\r\n  zoom = 9.7;\r\n  alternativa = true;\r\n  origin = {\r\n    lat: 0,\r\n    lng: 0\r\n  };\r\n\r\n  destiny = {\r\n    lat: 0,\r\n    lng: 0\r\n  };\r\n\r\n  public renderOptions = {\r\n    suppressMarkers: true,\r\n  };\r\n\r\n  public markerOptions = {\r\n      origin: {\r\n          label: 'Asesor'\r\n      },\r\n      destination: {\r\n          label: 'Cliente'\r\n      },\r\n  };\r\n\r\n  constructor(\r\n    private router: ActivatedRoute,\r\n    private toastCtl: ToastController,\r\n    private geo: GeoService,\r\n    private storage: Storage,\r\n    private usuario: UsuarioService,\r\n    private net: NetworkService,\r\n    private tts: TextToSpeech\r\n  ) {\r\n    this.dato = JSON.parse(this.router.snapshot.paramMap.get('data'));\r\n\r\n    this.observar = this.regresar().subscribe(\r\n      escuchando => {\r\n        this.latEscucha = escuchando.coords.latitude;\r\n        this.lngEscucha = escuchando.coords.longitude;\r\n\r\n        // // Ruta\r\n        this.origin.lat = escuchando.coords.latitude;\r\n        this.origin.lng = escuchando.coords.longitude;\r\n        this.lat = escuchando.coords.latitude;\r\n        this.lng = escuchando.coords.longitude;\r\n      },\r\n      error => this.mensaje(error),\r\n      () => console.log('Salimos')\r\n    );\r\n\r\n    // Ubicación de Escucha\r\n    // this.geo.ubicacionGPS().subscribe((resp: any) => {\r\n    //   this.latEscucha = resp.coords.latitude;\r\n    //   this.lngEscucha = resp.coords.longitude;\r\n\r\n    //   // Ruta\r\n    //   this.origin.lat = resp.coords.latitude;\r\n    //   this.origin.lng = resp.coords.longitude;\r\n    //   this.lat = resp.coords.latitude;\r\n    //   this.lng = resp.coords.longitude;\r\n    // });\r\n  }\r\n\r\n  regresar(): Observable<any> {\r\n    return new Observable((observer: Subscriber<any>) => {\r\n      // Ubicación de Escucha\r\n      this.geo.ubicacionGPS().subscribe((resp: any) => {\r\n        observer.next(resp);\r\n      });\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.comercio = this.dato.comercio;\r\n    this.asesor = this.dato.asesor;\r\n    // Info Cliente\r\n    this.img = this.dato.img;\r\n    this.clienteid = this.dato.clienteid;\r\n    this.numero = this.dato.numero;\r\n    this.nombre = this.dato.nombre;\r\n    this.domicilio = this.dato.domicilio;\r\n    this.limite = this.dato.limite;\r\n    this.saldo = this.dato.saldo;\r\n    this.disponible = this.dato.limite - this.dato.saldo;\r\n    this.ultima = this.dato.ultima;\r\n    this.email = this.dato.email;\r\n\r\n    // Ruta\r\n    this.destiny.lat = this.dato.lat;\r\n    this.destiny.lng = this.dato.lng;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.observar.unsubscribe();\r\n  }\r\n\r\n  iniciar() {\r\n    this.zoom = 19;\r\n    this.lat = this.origin.lat;\r\n    this.lng = this.origin.lng;\r\n  }\r\n\r\n  setPanel() {\r\n    return document.querySelector('#myPanel');\r\n  }\r\n\r\n  // Para ver la respuesta, aquí se ven los pasos a seguir\r\n  // Metodo en AGM_DIRECTION: (onResponse)=\"getStatus($event)\"\r\n  getStatus(event: any) {\r\n    // console.log(event);\r\n  }\r\n\r\n  hablar() {\r\n    this.tts.speak('Hello World')\r\n      .then(() => console.log('success'))\r\n      .catch((reason: any) => console.log(reason));\r\n  }\r\n\r\n  async agregarMarker(event: any) {\r\n    this.latMarker = event.coords.lat;\r\n    this.lngMarker = event.coords.lng;\r\n    const msg = 'Nuevas Coordenadas:\\n' +\r\n                event.coords.lat +\r\n                '\\n' + event.coords.lat\r\n                + '\\nal cliente # ' + this.numero + '?';\r\n    const toast = await this.toastCtl.create({\r\n      header: 'Agregar GPS',\r\n      message: msg,\r\n      position: 'bottom',\r\n      color: 'danger',\r\n      buttons: [\r\n        {\r\n          side: 'start',\r\n          text: 'Si',\r\n          handler: () => {\r\n            if (this.net.getNetSatus() === ConnectionStatus.Offline) {\r\n              this.usuario.getLocalData('markers').then((marks: any) => {\r\n                let markersAnt = [];\r\n                if (marks !== null) {\r\n                  markersAnt.push(marks);\r\n                  this.storage.remove(`${API_STORAGE_KEY}-markers`);\r\n                }\r\n                const markerNew = {\r\n                  cliente: this.numero,\r\n                  coordenadas: event.coords\r\n                };\r\n                markersAnt.push(markerNew);\r\n                this.usuario.setLocalData('markers', markersAnt);\r\n                const msg = 'Envio Cancelado';\r\n                const toast = this.toastCtl.create({\r\n                  header: 'Se guardo localmente.',\r\n                  message: msg,\r\n                  position: 'bottom',\r\n                  buttons: [\r\n                    {\r\n                      text: 'Ok',\r\n                      role: 'cancel',\r\n                      handler: () => {\r\n                        console.log('Cancel clicked');\r\n                      }\r\n                    }\r\n                  ]\r\n                });\r\n                toast.then((to) => to.present());\r\n              });\r\n            } else {\r\n              this.usuario.getLocalData('markers').then((marks: any) => {\r\n                let markersAnt = [];\r\n                if (marks !== null) {\r\n                  markersAnt.push(marks);\r\n                  this.storage.remove(`${API_STORAGE_KEY}-markers`);\r\n                }\r\n                const markerNew = {\r\n                  cliente: this.numero,\r\n                  coordenadas: event.coords\r\n                };\r\n                markersAnt.push(markerNew);\r\n                this.usuario.agregarMarker(this.asesor, markerNew).subscribe((resp: any) => {\r\n                  let msg;\r\n                  if (resp[0].msh === 'ok') {\r\n                    msg = 'GPS Enviado correctamente';\r\n                  } else {\r\n                    msg = 'GPS No Enviado';\r\n                  }\r\n                  const toast = this.toastCtl.create({\r\n                    header: 'Información del Cliente',\r\n                    message: 'GPS Enviado correctamente',\r\n                    position: 'bottom',\r\n                    buttons: [\r\n                      {\r\n                        text: 'Ok',\r\n                        role: 'cancel',\r\n                        handler: () => {\r\n                          console.log('Cancel clicked');\r\n                        }\r\n                      }\r\n                    ]\r\n                  });\r\n                  toast.then((to) => to.present());\r\n                });\r\n              });\r\n            }\r\n          }\r\n        },\r\n        {\r\n          text: 'No',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            this.latMarker = 0;\r\n            this.lngMarker = 0;\r\n            const msg = 'Envio Cancelado';\r\n            const toast = this.toastCtl.create({\r\n              header: 'Información del Cliente',\r\n              message: msg,\r\n              position: 'bottom',\r\n              buttons: [\r\n                {\r\n                  text: 'Ok',\r\n                  role: 'cancel',\r\n                  handler: () => {\r\n                    console.log('Cancel clicked');\r\n                  }\r\n                }\r\n              ]\r\n            });\r\n            toast.then((to) => to.present());\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async info() {\r\n    const msg = '# ' + this.numero + ' ' + this.nombre\r\n                + '\\nLímite: ' + this.limite + ' Saldo: ' + this.saldo\r\n                + '\\nUltima Compra: ' + this.ultima\r\n                + '\\nEmail Registrado: \\n' + this.email;\r\n    const toast = await this.toastCtl.create({\r\n      header: 'Información del Cliente',\r\n      message: msg,\r\n      position: 'bottom',\r\n      buttons: [\r\n        {\r\n          text: 'Ok',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  mensaje(msg: any) {\r\n    const toast = this.toastCtl.create({\r\n      message: msg,\r\n      duration: 1000,\r\n      position: 'bottom'\r\n    });\r\n    toast.then((to) => to.present());\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}