{"version":3,"sources":["webpack:///./src/app/components/modal/modal.module.ts","webpack:///./src/app/components/modal/modal.page.html","webpack:///./src/app/components/modal/modal.page.scss","webpack:///./src/app/components/modal/modal.page.ts"],"names":[],"mappings":"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","file":"components-modal-modal-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ModalPage } from './modal.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ModalPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ModalPage]\r\n})\r\nexport class ModalPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n    <ion-toolbar color=\\\"\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Enviar Comentario</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Nùmero de Cliente</ion-label>\\r\\n        <ion-input type=\\\"number\\\" [value]=\\\"dato.numero\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Nombre de Cliente</ion-label>\\r\\n        <ion-input type=\\\"text\\\" [value]=\\\"dato.nombre\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-list>\\r\\n        <ion-radio-group>\\r\\n            <ion-list-header color=\\\"\\\">\\r\\n                <ion-item-divider color=\\\"\\\">\\r\\n                    <ion-label>\\r\\n                        ¿Que proceso se le realizó al cliente?\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n            </ion-list-header>\\r\\n\\r\\n            <ion-item>\\r\\n                <ion-label>Venta</ion-label>\\r\\n                <ion-radio #venta slot=\\\"start\\\" (ionSelect)=\\\"accion(venta.value)\\\" value=\\\"venta\\\"></ion-radio>\\r\\n            </ion-item>\\r\\n\\r\\n            <ion-item>\\r\\n                <ion-label>Cobro</ion-label>\\r\\n                <ion-radio #cobro slot=\\\"start\\\" (ionSelect)=\\\"accion(cobro.value)\\\" value=\\\"cobro\\\"></ion-radio>\\r\\n            </ion-item>\\r\\n\\r\\n            <ion-item>\\r\\n                <ion-label>Ambas</ion-label>\\r\\n                <ion-radio #ambas slot=\\\"start\\\" (ionSelect)=\\\"accion(ambas.value)\\\" value=\\\"ambas\\\"></ion-radio>\\r\\n            </ion-item>\\r\\n\\r\\n            <ion-item>\\r\\n                <ion-label>Ninguna</ion-label>\\r\\n                <ion-radio #niguna slot=\\\"start\\\" (ionSelect)=\\\"accion(niguna.value)\\\" value=\\\"ninguna\\\"></ion-radio>\\r\\n            </ion-item>\\r\\n        </ion-radio-group>\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Breve comentario aquí</ion-label>\\r\\n        <ion-textarea #comentario></ion-textarea>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-button color=\\\"danger\\\" size=\\\"large\\\" expand=\\\"full\\\" (click)=\\\"enviar(comentario.value)\\\">Enviar Comentario</ion-button>\\r\\n\\r\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbW9kYWwvbW9kYWwucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n// Servicios\r\nimport { UsuarioService } from '../../services/usuario.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { WsService } from 'src/app/services/ws.service';\r\nimport { map } from 'rxjs/internal/operators/map';\r\n\r\n@Component({\r\n  selector: 'app-modal',\r\n  templateUrl: './modal.page.html',\r\n  styleUrls: ['./modal.page.scss'],\r\n})\r\nexport class ModalPage implements OnInit {\r\n\r\n  dato: any;\r\n  tipo: any;\r\n  fecha: any;\r\n  hora: any;\r\n\r\n  constructor(\r\n    private router: ActivatedRoute,\r\n    private toastController: ToastController,\r\n    private route: Router,\r\n    private usuario: UsuarioService,\r\n    private ws: WsService\r\n  ) {\r\n    this.dato = JSON.parse(this.router.snapshot.paramMap.get('data'));\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  accion(accion: any) {\r\n    this.tipo = accion;\r\n\r\n  }\r\n\r\n  enviar(texto: any) {\r\n    if (this.tipo === undefined) {\r\n      this.avisos('Falto colocar un tipo de acción.');\r\n      return;\r\n    }\r\n\r\n    // if (texto === '') {\r\n    //   this.avisos('Falto colocar un comentario.');\r\n    //   return;\r\n    // }\r\n\r\n    this.fecha = this.usuario.getDìa();\r\n    this.hora = this.usuario.getHora();\r\n    this.confirmar(texto);\r\n  }\r\n\r\n  async confirmar(msg: any) {\r\n    const toast = await this.toastController.create({\r\n      header: '¿Se procede a enviar comentario?',\r\n      message: 'Comentario: \\n' + msg,\r\n      position: 'bottom',\r\n      color: 'danger',\r\n      buttons: [\r\n        {\r\n          side: 'start',\r\n          text: 'Si',\r\n          cssClass: 'text-toast-white',\r\n          handler: () => {\r\n            const mensaje = {\r\n              numero: this.dato.numero,\r\n              asesor: this.dato.perid,\r\n              accion: this.tipo,\r\n              comentario: msg,\r\n              fecha: this.fecha,\r\n              hora: this.hora\r\n            };\r\n            this.usuario.enviarComentario(mensaje)\r\n            .subscribe((resp: any) => {\r\n              if (resp !== null) {\r\n                this.avisos('Se realizo el envio.');\r\n                setTimeout(() => {\r\n                  this.route.navigate(['/cliente', JSON.stringify(this.dato)]);\r\n                }, 3000);\r\n              } else {\r\n                this.avisos('Error al guardado.');\r\n              }\r\n            });\r\n          }\r\n        }, {\r\n          text: 'No',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            this.avisos('Se cancelo el envío.');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  avisos(msg: any) {\r\n    const toast = this.toastController.create({\r\n      message: msg,\r\n      duration: 3000,\r\n      position: 'bottom',\r\n      color: 'danger'\r\n    });\r\n    toast.then((to) => to.present());\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}